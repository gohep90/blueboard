<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="blue">
	
	
	<update id="updateEdu" parameterType="hashmap">
		<![CDATA[
			UPDATE
				academy
			SET
				lat=#{lat},
				lng=#{lng}
			WHERE
				academyId=#{seq}
		]]>
	</update>	
	
	<select id="selectAcademyData" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			SELECT
			   *
			FROM
			    academy
			WHERE
				academyId=#{academyId}
		]]>
	</select>
	
	<select id="selectFirstFavorite" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			SELECT 
				b.*  
			FROM 
				favorite a, academy b
			WHERE 
				a.academyId=b.academyId
			AND
				a.userId =#{userId}
		]]>
	</select>
	
	
	<select id="selectFavorite" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			SELECT 
				b.*  
			FROM 
				favorite a, academy b
			WHERE 
				a.academyId=b.academyId
			AND
				a.userId =#{userId}
			LIMIT
				#{current},10
		]]>
	</select>
	
	<select id="selectFavoriteCount" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			SELECT
			   count(*) as last
			FROM
			    favorite
			WHERE
				userId =#{userId}
			
		]]>
	</select>
	
	
	
</mapper>